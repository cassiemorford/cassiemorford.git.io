{"ast":null,"code":"import React from \"react\";\nimport \"isomorphic-fetch\";\nimport Fonts from './Fonts';\nimport \"../scss/main.scss\";\n\nclass PokemonList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: []\n    };\n  }\n\n  async getPokemonData(url) {\n    const resp = await fetch(url);\n    const pokemonData = await resp.json();\n    this.setState(prevState => {\n      return {\n        data: [...prevState.data, pokemonData]\n      };\n    });\n  }\n\n  async getPokemons(url) {\n    const resp = await fetch(url);\n    const respJson = await resp.json();\n    const results = respJson.results;\n    results.forEach(res => this.getPokemonData(res.url));\n\n    if (respJson.next) {\n      this.getPokemons(respJson.next);\n    }\n  }\n\n  componentDidMount() {\n    Fonts();\n    this.getPokemons(`https://pokeapi.co/api/v2/pokemon/`);\n  }\n\n  render() {\n    const {\n      data\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"pokemon-list\"\n    }, React.createElement(\"div\", {\n      className: \"pokemon-list__counter\"\n    }, data.length, \" pokemon loaded\"), data.map(pokemon => {\n      const primaryType = pokemon.types[0].type.name;\n      const pokemonClass = `pokemon-mini pokemon-mini--${primaryType}`;\n      return React.createElement(\"a\", {\n        className: pokemonClass,\n        href: `/pokemon?pokemon=${pokemon.name}`\n      }, React.createElement(\"h3\", {\n        className: \"pokemon-mini__name\"\n      }, pokemon.name), React.createElement(\"img\", {\n        className: \"pokemon-mini__image\",\n        src: pokemon.sprites && pokemon.sprites.front_default\n      }));\n    }));\n  }\n\n}\n\nexport default PokemonList;","map":null,"metadata":{},"sourceType":"module"}